---
import type { CollectionEntry } from 'astro:content';
import AppHeader from '~/components/parts/AppHeader.astro';
import AppFooter from '~/components/parts/AppFooter.astro';
import BaseHead from '../components/BaseHead.astro';
import FormattedDate from '../components/FormattedDate.astro';

type Props = CollectionEntry<'blog'>['data'];

const { title, category, description, pubDate, updatedDate, heroImage } = Astro.props;
---

<html lang="en" data-theme="light">
  <head>
    <BaseHead title={title} description={description} />
  </head>

  <body>
    <div class="layout">
      <AppHeader />
      <main class="main mt-28 mb-10">
        <div class="container mx-auto px-5 md:px-0 w-full md:w-10/12 lg:w-5/12 font-work">
          <div class="py-5">
            <div class="w-fit text-white px-2.5 py-1 bg-primary text-xs md:text-sm rounded-md mb-2 md:mb-4 font-medium">
              {category}
            </div><h3 class="text-base-content font-semibold text-xl md:text-2xl lg:text-4xl leading-5 md:leading-10">
              {title}
            </h3>
            <div class="mt-3 md:mt-6 flex items-center gap-5 text-base-content/60">
              <div class="flex items-center gap-3">
                <div class="avatar">
                  <div class="w-9 rounded-full">
                    <img src="https://placehold.it/100x100" alt="avatar" />
                  </div>
                </div><a
                  href="/"
                  class="text-xs md:text-sm font-medium hover:text-primary transition hover:duration-300"
                  >Jason Francisco</a
                >
              </div><p class="text-xs md:text-sm">
                <FormattedDate date={pubDate} />
              </p>
            </div>
          </div>
          <article class="prose lg:prose-xl mx-auto">
            {heroImage && <img width={720} height={360} src={heroImage} alt="" class="rounded-xl" />}
            {
              updatedDate && (
                <div class="last-updated-on">
                  Last updated on <FormattedDate date={updatedDate} />
                </div>
              )
            }
            <slot />
          </article>
        </div>
      </main>
      <AppFooter />
    </div>
  </body>
</html>
