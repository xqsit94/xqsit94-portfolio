---
import type { CollectionEntry } from 'astro:content';
import AppHeader from '~/components/parts/AppHeader.astro';
import AppFooter from '~/components/parts/AppFooter.astro';
import BaseHead from '../components/BaseHead.astro';
import FormattedDate from '../components/FormattedDate.astro';

type Props = CollectionEntry<'post'>['data'];

const { title, category, description, pubDate, updatedDate, heroImage } = Astro.props;
---

<html lang="en" data-theme="light">
  <head>
    <BaseHead title={title} description={description} />
  </head>

  <body>
    <div class="layout">
      <AppHeader />
      <main class="main mt-28 mb-10">
        <div class="container mx-auto px-5 md:px-0 w-full md:w-10/12 lg:w-5/12 font-work">
          <div class="py-5">
            <div class="w-fit text-white px-2.5 py-1 bg-primary text-xs md:text-sm rounded-md mb-2 md:mb-4 font-medium">
              {category}
            </div><h3 class="text-base-content font-semibold text-xl md:text-2xl lg:text-5xl leading-5 md:leading-10">
              {title}
            </h3>
            <div class="mt-3 md:mt-6 flex items-center gap-5 text-base-content/60">
              <p class="text-xs md:text-sm">
                {
                  updatedDate && (
                    <>
                      Last updated on <FormattedDate date={updatedDate} />
                    </>
                  )
                }
                {
                  !updatedDate && pubDate && (
                    <>
                      Published on <FormattedDate date={pubDate} />
                    </>
                  )
                }
              </p>
            </div>
          </div>
          <article class="prose lg:prose-xl mx-auto">
            {
              heroImage && (
                <img width={720} height={360} src={heroImage} alt="" class="rounded-xl border-2 border-base-content" />
              )
            }
            <slot />
          </article>
        </div>
      </main>
      <AppFooter />
    </div>
  </body>
</html>
